[ { "title": "Python Based 2D Truss Solver", "url": "/posts/TrussSolver/", "categories": "", "tags": "Truss, Direct Stiffness Method, Matrix Analysis", "date": "2022-04-20 12:55:00 +0000", "snippet": "Overview:In this post, a direct stiffness method based solver is discussed for 2D linear truss systems.Consider the following truss structure. The Global Member Stiffness Matrix as follows:#Global Member Stiffness Matrixdef K_ele(n): Length = L[n] Angle = theta[n] c = math.cos(Angle) s = math.sin(Angle) K11 = (E*A/Length)*np.array([[c**2,c*s],[c*s,s**2]]) K12 = (E*A/Length)*np.array([[-c**2,-c*s],[-c*s,-s**2]]) K21 = (E*A/Length)*np.array([[-c**2,-c*s],[-c*s,-s**2]]) K22 = (E*A/Length)*np.array([[c**2,c*s],[c*s,s**2]]) return [K11, K12, K21,K22]Formulation of the stiffness matrix#Primary Stiffness MatrixKp = np.zeros([nDoF,nDoF])n = 0for mbr in members: [K11,K12,K21,K22] = K_ele(n) n = n + 1 node_i=mbr[0].astype(int) node_j=mbr[1].astype(int) Kp[2*node_i-2:2*node_i-1+1,2*node_i-2:2*node_i-1+1] = Kp[2*node_i-2:2*node_i-1+1,2*node_i-2:2*node_i-1+1] + K11 Kp[2*node_i-2:2*node_i-1+1,2*node_j-2:2*node_j-1+1] = Kp[2*node_i-2:2*node_i-1+1,2*node_j-2:2*node_j-1+1] + K12 Kp[2*node_j-2:2*node_j-1+1,2*node_i-2:2*node_i-1+1] = Kp[2*node_j-2:2*node_j-1+1,2*node_i-2:2*node_i-1+1] + K21 Kp[2*node_j-2:2*node_j-1+1,2*node_j-2:2*node_j-1+1] = Kp[2*node_j-2:2*node_j-1+1,2*node_j-2:2*node_j-1+1] + K22#Apply Boundary ConditionsdeleteRowcolumn = []for delete in restrainedDoF: deleteRowcolumn.append(delete-1)Ks = np.delete(Kp,(deleteRowcolumn), axis=0)Ks = np.delete(Ks,(deleteRowcolumn), axis=1)Summarizing the output results:REACTIONSReaction at DoF 1: 6.08 kNReaction at DoF 2: 62.5 kNReaction at DoF 37: -6.08 kNReaction at DoF 38: 62.5 kNMEMBER FORCESMember 1 Force: -80.74 kNMember 2 Force: 19.23 kNMember 3 Force: -28.55 kNMember 4 Force: -63.83 kNMember 5 Force: 14.87 kNMember 6 Force: -6.64 kNMember 7 Force: -25.92 kNMember 8 Force: -49.85 kNMember 9 Force: 39.61 kNMember 10 Force: -33.58 kNMember 11 Force: -0.52 kNMember 12 Force: 26.89 kNMember 13 Force: -41.48 kNMember 14 Force: -17.57 kNMember 15 Force: 13.74 kNMember 16 Force: -6.67 kNMember 17 Force: 38.04 kNMember 18 Force: -41.25 kNMember 19 Force: -6.67 kNMember 20 Force: -41.25 kNMember 21 Force: 13.74 kNMember 22 Force: 26.89 kNMember 23 Force: -41.48 kNMember 24 Force: -17.57 kNMember 25 Force: -0.52 kNMember 26 Force: -49.85 kNMember 27 Force: 39.61 kNMember 28 Force: -33.58 kNMember 29 Force: -25.92 kNMember 30 Force: -63.83 kNMember 31 Force: 14.87 kNMember 32 Force: -6.64 kNMember 33 Force: -28.55 kNMember 34 Force: -80.74 kNMember 35 Force: 19.23 kNNODAL DISPLACEMENTSNode 1: Ux = 0.0 m, Uy = 0.0 mNode 2: Ux = -0.00143 m, Uy = -0.00032 mNode 3: Ux = -0.0013 m, Uy = -0.0003 mNode 4: Ux = -0.00114 m, Uy = -0.00063 mNode 5: Ux = -0.00082 m, Uy = -0.00032 mNode 6: Ux = -0.00041 m, Uy = -0.00133 mNode 7: Ux = 8e-05 m, Uy = -0.00109 mNode 8: Ux = -0.00011 m, Uy = -0.00212 mNode 9: Ux = 0.00018 m, Uy = -0.00181 mNode 10: Ux = 0.0 m, Uy = -0.00224 mNode 11: Ux = 0.00011 m, Uy = -0.00212 mNode 12: Ux = -0.00018 m, Uy = -0.00181 mNode 13: Ux = 0.00041 m, Uy = -0.00133 mNode 14: Ux = -8e-05 m, Uy = -0.00109 mNode 15: Ux = 0.00114 m, Uy = -0.00063 mNode 16: Ux = 0.00082 m, Uy = -0.00032 mNode 17: Ux = 0.00143 m, Uy = -0.00032 mNode 18: Ux = 0.0013 m, Uy = -0.0003 mNode 19: Ux = 0.0 m, Uy = 0.0 mDeformed Plot (Magnification Factor = 500)ETABS VerificationRestraint reactionsAxial force diagram" }, { "title": "Step-by-step piece-wise exact method for linear SDOF systems using Python", "url": "/posts/PEM/", "categories": "", "tags": "PEM", "date": "2022-04-01 12:55:00 +0000", "snippet": "Overview:To use this method, consider an input waveform of frequency 1Hz sampled at 0.01 sec. We want to determine the displacement response using PEM. Formulation:The following following formulations is used. The constant are taken from Humar, 2002.\\[u_{n+1} = A\\:u_n + B\\:\\dot{u}_{n} +C\\:p_n + D\\:p_{n+1}\\]\\[\\dot{u}_{n+1} = A_1\\:u_n + B_1\\:\\dot{u}_n + C_1\\:p_n + D_1\\:p_{n+1}\\]Code:Example Response:The following response is obtained: " } ]
